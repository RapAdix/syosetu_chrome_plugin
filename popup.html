<!DOCTYPE html>
<html>
  <head>
    <title>Jisho Helper</title>
    <link rel="stylesheet" href="popup.css">
  </head>
  <body>
    <div id="mainMenu" style="width: 148px;">
      <div class="settings-group">
        <div class="switch-container">
          <span class="switch-text">Turn on Jisho Assistant</span>
          <label class="switch-label switch">
            <input type="checkbox" id="jishoSwitch">
            <span class="slider"></span>
          </label>
        </div>

        <div class="switch-container">
          <span class="switch-text">Enable on this site</span>
          <button id="siteListChevron" class="chevron-btn">
            <i class="fa-solid fa-chevron-down"></i>
          </button>
          <label class="switch-label switch">
            <input type="checkbox" id="toggleSite">
            <span class="slider"></span>
          </label>
        </div>

        <div id="siteListDropdown" class="dropdown-hidden">
          <label>Enabled sites:</label>
          <textarea id="allowedSitesInput"></textarea>

          <button class="settings-action-btn" id="saveAllowedSitesButton">Save</button>
        </div>
      </div>

      <div class="settings-group">
        <label>
          Panel width (% of view): 
          <input type="number" id="panelWidthInput" min="10" max="90">
        </label>

        <label>
          Jisho content scale (%): 
          <input type="number" id="jishoScaleInput" min="50" max="200">
        </label>

        <label>
          Grammar content scale (%): 
          <input type="number" id="grammarScaleInput" min="50" max="200">
        </label>
      </div>

      <div class="btn-row">
        <button class="settings-action-btn" id="clearCacheButton">Clear Cache</button>
        <button class="settings-action-btn" id="resetSettingsButton">Reset Settings</button>
        <button class="settings-action-btn" id="apiSettingsButton">Api Keys settings</button>
      </div>

    </div>
    
    <div id="apiSettings" style="display:none;">
      <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      />
      <button class="settings-action-btn" id="backToMainButton"><i class="fa fa-arrow-left"></i> Back</button>

      <h3>API Keys</h3>
      <div>
        <label>OpenAI Key:</label>
        <div style="position: relative; margin-top: 5px;">
          <input type="password" id="openaiApiKey" placeholder="sk-..." style="padding: 2px 35px 5px 6px;"/>
          <button type="button" id="toggleOpenaiKey" 
                  style="position: absolute; right: 5px; top: 50%; transform: translateY(-50%);
                        background: transparent; border: none; cursor: pointer; padding: 5px;">
            <i class="fa fa-eye"></i>
          </button>
        </div>
      </div>

      <div>
        <label>Gemini Key:</label>
        <div style="position: relative; margin-top: 5px;">
          <input type="password" id="geminiApiKey" placeholder="..." style="padding: 2px 35px 5px 6px;"/>
          <button type="button" id="toggleGeminiKey" 
                  style="position: absolute; right: 5px; top: 50%; transform: translateY(-50%);
                        background: transparent; border: none; cursor: pointer; padding: 5px;">
            <i class="fa fa-eye"></i>
          </button>
        </div>
      </div>


      <div>
        <label>Use provider:</label>
        <select id="providerSelect"></select>
      </div>

      <button class="settings-action-btn" id="saveKeys">Save Keys</button>
      <button class="settings-action-btn" id="deleteKeys">Delete Keys</button>
    </div>
    <div id="statusMessage"></div>

    <script src="defaults.js"></script>
    <script src="helpers.js"></script>
    <script src="popup.js"></script>
  </body>
</html>
